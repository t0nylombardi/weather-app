<%= form_with url: update_forecast_forecast_index_path, method: :post, class: "mt-8" do |f| %>
  <label for="search" class="mb-2 text-sm font-medium text-text sr-only">Enter your address</label>
  <div class="relative">
    <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
      <svg class="w-6 h-6 text-text" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
      </svg>
    </div>

    <div data-controller="address">
      <%= render Ui::TextFieldComponent.new(
        form: f,
        name: :location,
        id: :location,
        placeholder: "Enter your address",
        classes: "block w-full ps-10 p-4 border border-text !rounded-full bg-surface:none !bg-lighter-rose placeholder:text-text/80 focus:outline-none",
        required: true,
        data: { action: "click->address#initGoogleMaps", address_target: "input" }
      ) %>

      <%= f.hidden_field :postal_code, data: {address_target: "postal_code"} %>
    </div>
    <%= render Ui::ButtonComponent.new(label: "Search", type: "submit", id: "submit") %>
  </div>
<% end %>
