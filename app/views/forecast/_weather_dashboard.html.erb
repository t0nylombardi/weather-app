<turbo-stream action="update" target="forecast">
<div class="relative isolate overflow-hidden">
  <div class="mx-auto">
    <div class="mx-auto grid w-[42rem] grid-cols-1 gap-x-8 gap-y-16">
      <div>
        <h2 class="text-3xl font-bold tracking-tight text-text sm:text-4xl">
          Check your local weather
        </h2>
        <div class="mt-8">
          <%= render Forecast::FormComponent.new %>
        </div>
      </div>
    </div>

    <div class="mt-4 text-love">
      <%= display_cached_text(forecast) %>

      <%= display_flash_alerts %>
    </div>
  </div>
</div>
  <%= forecast.inspect %>
  <% if forecast&.fetch("forecast", nil) %>
    <div class="flex flex-row justify-around items-center p-8 rounded-md sm:px-12">
      <% forecast['forecast']['forecastday'].each do |day| %>
        <%= render Forecast::CardComponent.new(
          date: day['date'],
          current: forecast['current']['temp_f'].to_i,
          high: day['day']['maxtemp_f'].to_i,
          low: day['day']['mintemp_f'].to_i,
          description: day['day']['condition']['text'],
          image: day['day']['condition']['icon']) %>
      <% end %>
    </div>
  <% end %>
</turbo-stream>
